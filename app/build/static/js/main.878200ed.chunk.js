(this.webpackJsonpwasm_algorithms=this.webpackJsonpwasm_algorithms||[]).push([[0],[,,function(e,t,n){e.exports={hide:"cam_hide__3ofNy",flex:"cam_flex__22L5-",sideDiv:"cam_sideDiv__1_1lG",buttonList:"cam_buttonList__TsgiK"}},,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(1),i=n.n(c),a=n(4),s=n.n(a),u=(n(10),n.p+"static/media/WebAssembly_Logo.1381587b.svg"),l=(n(11),n(2)),o=n.n(l);var d=function(){var e=Object(c.useRef)(null),t=Object(c.useRef)(null),i=Object(c.useRef)(null),a=Object(c.useRef)(null),s=Object(c.useRef)(null),u=Object(c.useRef)(null),l=Object(c.useRef)(null);return Object(c.useEffect)((function(){if(null!==e&&null!==t.current&&null!==i.current&&null!==a.current&&null!==s.current&&null!==u.current&&null!==l.current){var r=0;i.current.addEventListener("click",(function(){r=1===r?0:1})),a.current.addEventListener("click",(function(){r=2===r?0:2})),s.current.addEventListener("click",(function(){r=3===r?0:3})),u.current.addEventListener("click",(function(){r=4===r?0:4})),l.current.addEventListener("click",(function(){r=5===r?0:5}));var c,o,d=-1,b=1/0,j=0;n.e(3).then(n.bind(null,16)).then((function(n){o=n,navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia({video:!0}).then((function(n){null!==e.current&&(c=e.current.getContext("2d")),t.current&&(t.current.srcObject=n),f((new Date).getTime())})).catch((function(e){console.log("Something went wrong!")}))}))}function f(n){if(t.current&&e.current){var i,a=t.current.videoWidth,s=t.current.videoHeight;if(e.current.width=a,e.current.height=s,j%5===0&&(document.querySelector("#fps").innerHTML=(1e3/(n-b)).toFixed(2)),(j+=1)>5&&(j=0),b=n,e.current.width>0&&e.current&&-1===d){e.current.width=a,e.current.height=s;var u=a*s*4;return d=o.alloc(u),requestAnimationFrame(f)}if(null===(i=c)||void 0===i||i.drawImage(t.current,0,0,a,s),0===r)return requestAnimationFrame(f);if(e.current.width>0&&e.current&&c){var l=c.getImageData(0,0,a,s);switch(v=l.data.buffer,O=o.memory.buffer,new Uint8Array(O,d,v.byteLength).set(new Uint8Array(v)),r){case 1:o.sobel(d,a,s);break;case 2:o.box_blur(d,a,s);break;case 3:o.sharpen(d,a,s);break;case 4:o.emboss(d,a,s);break;case 5:o.laplacian(d,a,s)}var h=new Uint8ClampedArray(o.memory.buffer,d,a*s*4),m=new ImageData(h,a,s);c.putImageData(m,0,0)}requestAnimationFrame(f)}var v,O}}),[i,t,e]),Object(r.jsxs)("div",{className:o.a.flex,children:[Object(r.jsx)("div",{className:o.a.sideDiv,children:Object(r.jsxs)("ul",{className:o.a.buttonList,children:[Object(r.jsx)("li",{children:Object(r.jsx)("button",{ref:i,children:"Sobel Edge Detection"})}),Object(r.jsx)("li",{children:Object(r.jsx)("button",{ref:a,children:"Box Blur"})}),Object(r.jsx)("li",{children:Object(r.jsx)("button",{ref:s,children:"Sharpen"})}),Object(r.jsx)("li",{children:Object(r.jsx)("button",{ref:u,children:"Emboss"})}),Object(r.jsx)("li",{children:Object(r.jsx)("button",{ref:l,children:"Laplacian"})})]})}),Object(r.jsx)("canvas",{ref:e,children:" "}),Object(r.jsx)("video",{className:o.a.hide,autoPlay:!0,ref:t}),Object(r.jsx)("div",{className:o.a.sideDiv})]})};var b=function(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsxs)("header",{className:"App-header",children:[Object(r.jsx)("img",{src:u,className:"App-logo",alt:"logo"}),Object(r.jsxs)("p",{children:["Cam effects with ",Object(r.jsx)("code",{children:"wasm"})," and ",Object(r.jsx)("code",{children:"rust"})," ",Object(r.jsx)("span",{id:"fps"}),"fps"]}),Object(r.jsx)(d,{})]})})},j=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,17)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),i(e),a(e)}))};s.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(b,{})}),document.getElementById("root")),j()}],[[12,1,2]]]);
//# sourceMappingURL=main.878200ed.chunk.js.map