(this.webpackJsonpwasm_algorithms=this.webpackJsonpwasm_algorithms||[]).push([[0],[,,function(e,t,n){e.exports={hide:"cam_hide__3ykpy",flex:"cam_flex__2nGjf",sideDiv:"cam_sideDiv__2z-E5",buttonList:"cam_buttonList__28TZE"}},,,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(1),i=n.n(c),a=n(4),s=n.n(a),u=(n(10),n.p+"static/media/WebAssembly_Logo.1381587b.svg"),l=(n(11),n(2)),o=n.n(l);function d(e,t,r,c,i,a,s){if(null!==e.current&&null!==t.current&&null!==r.current&&null!==c.current&&null!==i.current&&null!==a.current&&null!==s.current){var u,l,o=-1,d=1/0,b=0,j=0,f=[];r.current.addEventListener("click",(function(){j=1===j?0:1})),c.current.addEventListener("click",(function(){j=2===j?0:2})),i.current.addEventListener("click",(function(){j=3===j?0:3})),a.current.addEventListener("click",(function(){j=4===j?0:4})),s.current.addEventListener("click",(function(){j=5===j?0:5})),n.e(5).then(n.bind(null,16)).then((function(e){l=e,navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia({video:!0}).then(v).catch((function(){console.log("Something went wrong!")}))}))}function h(n){var r;if(t.current&&e.current){!function(e){b%5===0&&(document.querySelector("#fps").innerHTML=(1e3/(e-d)).toFixed(2));(b+=1)>5&&(b=0);d=e}(n);var c=t.current.videoWidth,i=t.current.videoHeight;if(c>0&&e.current&&-1===o)return function(n,r){if(t.current&&e.current){e.current.width=n,e.current.height=r;var c=n*r*4;return o=l.alloc(c),requestAnimationFrame(h)}}(c,i);if(null===(r=u)||void 0===r||r.drawImage(t.current,0,0,c,i),0===j||!(c>0&&e.current&&u))return requestAnimationFrame(h);var a,s,f=u.getImageData(0,0,c,i);switch(a=f.data.buffer,s=l.memory.buffer,new Uint8Array(s,o,a.byteLength).set(new Uint8Array(a)),j){case 1:l.sobel(o,c,i);break;case 2:l.box_blur(o,c,i);break;case 3:l.sharpen(o,c,i);break;case 4:l.emboss(o,c,i);break;case 5:l.laplacian(o,c,i)}var m=new Uint8ClampedArray(l.memory.buffer,o,c*i*4),v=new ImageData(m,c,i);u.putImageData(v,0,0),requestAnimationFrame(h)}}function m(e){}function v(n){null!==e.current&&(u=e.current.getContext("2d")),t.current&&(t.current.srcObject=n),function(){for(var e=0;e<navigator.hardwareConcurrency;e++){var t=new Worker("worker.js");t.onmessage=m,t.postMessage({data:{}}),f.push(t)}h((new Date).getTime())}()}}var b=function(){var e=Object(c.useRef)(null),t=Object(c.useRef)(null),n=Object(c.useRef)(null),i=Object(c.useRef)(null),a=Object(c.useRef)(null),s=Object(c.useRef)(null),u=Object(c.useRef)(null);return Object(c.useEffect)((function(){return d(e,t,n,i,a,s,u)}),[n,t,e]),Object(r.jsxs)("div",{className:o.a.flex,children:[Object(r.jsx)("div",{className:o.a.sideDiv,children:Object(r.jsxs)("ul",{className:o.a.buttonList,children:[Object(r.jsx)("li",{children:Object(r.jsx)("button",{ref:n,children:"Sobel Edge Detection"})}),Object(r.jsx)("li",{children:Object(r.jsx)("button",{ref:i,children:"Box Blur"})}),Object(r.jsx)("li",{children:Object(r.jsx)("button",{ref:a,children:"Sharpen"})}),Object(r.jsx)("li",{children:Object(r.jsx)("button",{ref:s,children:"Emboss"})}),Object(r.jsx)("li",{children:Object(r.jsx)("button",{ref:u,children:"Laplacian"})})]})}),Object(r.jsx)("canvas",{ref:e,children:" "}),Object(r.jsx)("video",{className:o.a.hide,autoPlay:!0,ref:t}),Object(r.jsx)("div",{className:o.a.sideDiv})]})};var j=function(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsxs)("header",{className:"App-header",children:[Object(r.jsx)("img",{src:u,className:"App-logo",alt:"logo"}),Object(r.jsxs)("p",{children:["Cam effects with ",Object(r.jsx)("code",{children:"wasm"})," and ",Object(r.jsx)("code",{children:"rust"})," ",Object(r.jsx)("span",{id:"fps"}),"fps"]}),Object(r.jsx)(b,{})]})})},f=function(e){e&&e instanceof Function&&n.e(6).then(n.bind(null,17)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),i(e),a(e)}))};s.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(j,{})}),document.getElementById("root")),f()}],[[13,1,4]]]);
//# sourceMappingURL=main.eb7388d8.chunk.js.map