(this.webpackJsonpwasm_algorithms=this.webpackJsonpwasm_algorithms||[]).push([[0],[,,function(e,t,n){e.exports={hide:"cam_hide__3ofNy",flex:"cam_flex__22L5-",sideDiv:"cam_sideDiv__1_1lG",buttonList:"cam_buttonList__TsgiK"}},,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(1),i=n.n(c),s=n(4),a=n.n(s),u=(n(10),n.p+"static/media/WebAssembly_Logo.1381587b.svg"),l=(n(11),n(2)),o=n.n(l);var d=function(){var e=Object(c.useRef)(null),t=Object(c.useRef)(null),i=Object(c.useRef)(null),s=Object(c.useRef)(null),a=Object(c.useRef)(null),u=Object(c.useRef)(null);return Object(c.useEffect)((function(){if(null!==e&&null!==t.current&&null!==i.current&&null!==s.current&&null!==a.current&&null!==u.current){var r=0;i.current.addEventListener("click",(function(){r=1===r?0:1})),s.current.addEventListener("click",(function(){r=2===r?0:2})),a.current.addEventListener("click",(function(){r=3===r?0:3})),u.current.addEventListener("click",(function(){r=4===r?0:4}));var c,l,o=-1,d=1/0,b=0;n.e(3).then(n.bind(null,16)).then((function(n){l=n,navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia({video:!0}).then((function(n){null!==e.current&&(c=e.current.getContext("2d")),t.current&&(t.current.srcObject=n),j((new Date).getTime())})).catch((function(e){console.log("Something went wrong!")}))}))}function j(n){if(t.current&&e.current){var i,s=t.current.videoWidth,a=t.current.videoHeight;if(e.current.width=s,e.current.height=a,b%5===0&&(document.querySelector("#fps").innerHTML=(1e3/(n-d)).toFixed(2)),(b+=1)>5&&(b=0),d=n,e.current.width>0&&e.current&&-1===o){e.current.width=s,e.current.height=a;var u=s*a*4;return o=l.alloc(u),requestAnimationFrame(j)}if(null===(i=c)||void 0===i||i.drawImage(t.current,0,0,s,a),0===r)return requestAnimationFrame(j);if(e.current.width>0&&e.current&&c){var f=c.getImageData(0,0,s,a);switch(v=f.data.buffer,g=l.memory.buffer,new Uint8Array(g,o,v.byteLength).set(new Uint8Array(v)),r){case 1:l.sobel(o,s,a);break;case 2:l.box_blur(o,s,a);break;case 3:l.sharpen(o,s,a);break;case 4:l.emboss(o,s,a)}var h=new Uint8ClampedArray(l.memory.buffer,o,s*a*4),m=new ImageData(h,s,a);c.putImageData(m,0,0)}requestAnimationFrame(j)}var v,g}}),[i,t,e]),Object(r.jsxs)("div",{className:o.a.flex,children:[Object(r.jsx)("div",{className:o.a.sideDiv,children:Object(r.jsxs)("ul",{className:o.a.buttonList,children:[Object(r.jsx)("li",{children:Object(r.jsx)("button",{ref:i,children:"Sobel Edge Detection"})}),Object(r.jsx)("li",{children:Object(r.jsx)("button",{ref:s,children:"Box Blur"})}),Object(r.jsx)("li",{children:Object(r.jsx)("button",{ref:a,children:"Sharpen"})}),Object(r.jsx)("li",{children:Object(r.jsx)("button",{ref:u,children:"Emboss"})})]})}),Object(r.jsx)("canvas",{ref:e,children:" "}),Object(r.jsx)("video",{className:o.a.hide,autoPlay:!0,ref:t}),Object(r.jsx)("div",{className:o.a.sideDiv})]})};var b=function(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsxs)("header",{className:"App-header",children:[Object(r.jsx)("img",{src:u,className:"App-logo",alt:"logo"}),Object(r.jsxs)("p",{children:["Cam effects with ",Object(r.jsx)("code",{children:"wasm"})," and ",Object(r.jsx)("code",{children:"rust"})," ",Object(r.jsx)("span",{id:"fps"}),"fps"]}),Object(r.jsx)(d,{})]})})},j=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,17)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),i(e),s(e)}))};a.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(b,{})}),document.getElementById("root")),j()}],[[12,1,2]]]);
//# sourceMappingURL=main.651319e9.chunk.js.map